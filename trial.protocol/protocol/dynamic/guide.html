<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>User Guide :: trial.protocol</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">trial.protocol</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://leminhos.gitlab.io/doc.trial.protocol/trial.protocol/protocol/home/introduction.html">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://www.boost.org/doc/libs/1_66_0/libs/libraries.htm">Libraries</a>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://www.boost.org/users/people.html">People</a>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://github.com/breese/trial.protocol">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="trial.protocol" data-version="protocol">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">trial.protocol</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Core</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/adapter.html">Adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/serialization.html">Serialization</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">JSON</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json/json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json/tutorial.html">Tutorials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../json/guide.html">User Guide</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Incremental Processing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/token.html">Token</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/error.html">Error</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/reader.html">Reader</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/writer.html">Writer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Serialization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/iarchive.html">Input Archive</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../json/oarchive.html">Output Archive</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json/design.html">Design Rationale</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dynamic Variable</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dynamic.html">Trial.Dynamic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">User Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="type.html">dynamic:type.adoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="function.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="algorithm.html">Algorithms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="converter.html">Converters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concept.html">Concepts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rationale.html">Design Rationale</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="acknowledgement.html">Acknowledgement</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">trial.protocol</span>
    <span class="version">protocol</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">trial.protocol</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">protocol</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../home/introduction.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">trial.protocol</a></li>
    <li><a href="guide.html">User Guide</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://gitlab.com/Leminhos/breese-asciidoc-conversion/edit/antora/doc/modules/dynamic/pages/guide.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">User Guide</h1>
<div class="sect1">
<h2 id="_types"><a class="anchor" href="#_types"></a>Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>dynamic::variable</code> supports a pre-defined list of fundamental data types, strings, and containers.
These are generally referred to as the <em>supported types</em>.
Each type also belongs to a type category that is represented by a tag type.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Supported types and tags</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stored type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::nullable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::nullable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very short signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed short int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed long long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very long signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very short unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned short int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned long long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very long unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short floating-point number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floating-point number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long floating-point number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dynamic::string_type`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Narrow-character string. Same as <code>std::string</code> by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dynamic::wstring_type`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::wstring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wide-character string. Same as <code>std::wstring</code> by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u16string_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u16string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-16 character string. Same as <code>std::u16string</code> by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u32string_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u32string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-32 character string. Same as <code>std::u32string</code> by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::array_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence of zero or more `dynamic::variable`s.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::map_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered sequence of zero or more key-value pairs sorted by the key. Both key and value are <code>dynamic::variable</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_type_checking"><a class="anchor" href="#_type_checking"></a>Type Checking</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The current type of a variable can either be queried by type or tag.
It is also possible to obtain an enumerator that identifies the current type.</p>
</div>
<div class="paragraph">
<p>Query-by-type is done with the <a href="http://breese.github.io/trial/protocol/trial/dynamic/basic_variable.html#idm9983-bb"><code>same&lt;T&gt;()</code></a> function, which returns true if the current value is stored as type <code>T</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable data = 3.0;
assert(data.same&lt;double&gt;()); // Value is stored as a double.
assert(!data.same&lt;float&gt;()); // Valus is not stored as a float.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Query-by-tag is done with the <a href="http://breese.github.io/trial/protocol/trial/dynamic/basic_variable.html#idm9962-bb"><code>is&lt;T&gt;()</code></a> function, which returns true if the current value is stored as a type belonging to the category <code>T</code>.
<code>T</code> can be a tag or a type. In the latter case the associated tag is looked up, and the variable is queried using this tag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable data = 3.0;
assert(data.is&lt;dynamic::real&gt;()); // Value is stored as a floating-point number.
assert(data.is&lt;double&gt;()); // Query using the dynamic::real tag.
assert(data.is&lt;float&gt;()); // Query using the dynamic::real tag.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that any supported floating-point type can be used to query for the tag.</p>
</div>
<div class="paragraph">
<p>Query-by-enumeration is done with the <a href="http://breese.github.io/trial/protocol/trial/dynamic/basic_variable.html#idm9994-bb"><code>code()</code></a> or <a href="http://breese.github.io/trial/protocol/trial/dynamic/basic_variable.html#idm10113-bb"><code>symbol()</code></a> functions. These returns an enumerator that indicates the type. The enumerator is suitable for <code>switch</code> statements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">switch (data.symbol())
{
case dynamic::symbol::integer:
  break; // Do integer stuff
case dynamic::symbol::real:
  break; // Do floating-point number stuff
default:
  break; // Do other stuff
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Codes and symbols</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stored type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::nullable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::null</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::boolean</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::signed_char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed short int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::signed_short_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::signed_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::signed_long_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>signed long long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::signed_long_long_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::unsigned_char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned short int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::unsigned_short_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::unsigned_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::unsigned_long_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsigned long long int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::unsigned_long_long_integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::real</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::long_real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::real</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::long_long_real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::real</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::string_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::wstring_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::wstring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::wstring</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u16string_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::u16string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::u16string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::u32string_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::u32string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::u32string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::array_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::array</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::map_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::code::map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dynamic::symbol::map</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_comparison"><a class="anchor" href="#_comparison"></a>Comparison</h3>
<div class="paragraph">
<p>A dynamic variable can be compared against another dynamic variable, or against a supported type. Supported types are grouped into comparison categories as shown below. Comparison against unsupported types results in a compile-time error.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comparison category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rank</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nullable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial_protocol/dynamic_variable/user_guide.html"><code>dynamic::nullable</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arithmetic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial/dynamic/boolean.html"><code>dynamic::boolean</code></a>
<a href="http://breese.github.io/trial/protocol/trial/dynamic/integer.html"><code>dynamic::integer</code></a>
<a href="http://breese.github.io/trial/protocol/trial/dynamic/real.html"><code>dynamic::real</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Narrow string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial/dynamic/string.html"><code>dynamic::string</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wide string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial/dynamic/wstring.html"><code>dynamic::wstring</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-16 string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial/dynamic/u16string.html"><code>dynamic::u16string</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-32 string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/trial/dynamic/u32string.html"><code>dynamic::u32string</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequenced array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/header/boost/libs/trial_protocol/include/trial/dynamic/variable_hpp.html#trial.dynamic.array"><code>dynamic::array</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associative array]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://breese.github.io/trial/protocol/header/boost/libs/trial_protocol/include/trial/dynamic/variable_hpp.html#trial.dynamic.map"><code>dynamic::map</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Equality operations first check the argument types. If the argument types belong to different comparison categories, then they are unequal. Otherwise their values are compared according to the normal C++ rules, with the addition that null compares equal to null.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable first;
dynamic::variable second = 2;

assert(first.is&lt;dynamic::nullable&gt;());
assert(second.is&lt;dynamic::integer&gt;());

assert(first != second); // Incompatible types are unequal</code></pre>
</div>
</div>
<div class="paragraph">
<p>Relative operations first check the argument types. If the argument types belong to different comparison categories, then their ranks are compared. The ranks are shown in the table above. For example, a nullable type is always less than other types, while an associative array is always greater than other types. Otherwise their values are compared according to the normal C++ rules.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable first;
dynamic::variable second = 2;

assert(first.is&lt;dynamic::nullable&gt;());
assert(second.is&lt;dynamic::integer&gt;());

assert(first &lt; second); // Null is less than integers</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sequenced arrays perform a pair-wise comparison of the elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable first = { 1, 20, 300 };
dynamic::variable second = { 1, 20, 300 };

assert(first == second);
assert(first &lt;= second);
assert(!(first &lt; second));
assert(first &gt;= second);
assert(!(first &gt; second));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Associative arrays perform a pair-wise comparison of the key-value elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">dynamic::variable first = { { "alpha", true } };
dynamic::variable second = { { "alpha", true } };

assert(first == second);
assert(first &lt;= second);
assert(!(first &lt; second));
assert(first &gt;= second);
assert(!(first &gt; second));</code></pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="_functions" class="sect0"><a class="anchor" href="#_functions"></a>Functions</h1>
<div class="sect1">
<h2 id="_construction"><a class="anchor" href="#_construction"></a>Construction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dynamic variables can be created in various ways.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>V v</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a nullable variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><a href="http://en.cppreference.com/w/cpp/language/default_initialization">Default-initializes</a>
variable to the nullable type.</p>
<p class="tableblock"><em>Example:</em></p>
<p class="tableblock"><code><code>`
dynamic::variable data;
assert(data.is&lt;dynamic::nullable&gt;());
</code>`</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>V v(t)</code>
<code>V v = t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a variable of given supported type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be a supported type.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><a href="http://en.cppreference.com/w/cpp/language/direct_initialization">Direct-initializes</a> variable to value.</p>
<p class="tableblock"><em>Example:</em></p>
<p class="tableblock"><code><code>`
dynamic::variable data(1);
assert(data.is&lt;int&gt;());
</code>`</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>V v(u)</code>
<code>V v = u</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a copy of another dynamic variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><a href="http://en.cppreference.com/w/cpp/language/copy_initialization">Copy-initializes</a>
variable with the type and value from another dynamic variable.</p>
<p class="tableblock"><em>Example:</em></p>
<p class="tableblock"><code>`
dynamic::variable other(3.0);
dynamic::variable data(other);
assert(data.is&lt;double&gt;());
</code>`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>V v { u1, u2, u3, &#8230;&#8203; }</code>
<code>V v = { u1, u2, u3, &#8230;&#8203; }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an array from initializer list.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><a href="http://en.cppreference.com/w/cpp/language/list_initialization">List-initializes</a> variable as array from initializer list.</p>
<p class="tableblock">If the initializer list consists of a sequence of pairs, then the values will be stored as an associative array. Otherwise the values will be stored as an array. Nested lists are allowed.</p>
<p class="tableblock"><em>Example:</em></p>
<p class="tableblock"><code>`
dynamic::variable data { null, true, 2, 3.0, "alpha" };
assert(data.is&lt;dynamic::array&gt;());
dynamic::variable data { 1, 2, { 3, 4 }, 5 };
assert(data.is&lt;dynamic::array&gt;());
</code>`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>V v { {u1, u2}, {u3, u4}, &#8230;&#8203; }</code>
<code>V v = { {u1, u2}, {u3, u4}, &#8230;&#8203; }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an associative array from initializer list.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em>
Initializer list shall be a sequence of pairs.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><a href="http://en.cppreference.com/w/cpp/language/list_initialization">List-initializes</a> variable as associative array from initializer list.</p>
<p class="tableblock">If the initializer list consists of a sequence of pairs, then the values will be stored as an associative array. Otherwise the values will be stored as an array. Nested lists are allowed.</p>
<p class="tableblock"><em>Example:</em></p>
<p class="tableblock"><code>`
dynamic::variable data { { "alpha", 1 }, { "bravo", 2 } };
assert(data.is&lt;dynamic::map&gt;());
</code>`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an array from factory method.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an associative array from factory method.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_factory_initialization"><a class="anchor" href="#_factory_initialization"></a>Factory Initialization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Arrays and associated arrays can also be explicitly created with factories.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Example: List-initializes empty array from factory
auto data = dynamic::array::make();
assert(data.is&lt;dynamic::array&gt;());
assert(data.size() == 0);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Example: List-initializes array of 42 null values from factory
auto data = dynamic::array::repeat(42, null);
assert(data.is&lt;dynamic::array&gt;());
assert(data.size() == 42);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_capacity"><a class="anchor" href="#_capacity"></a>Capacity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.empty()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if the variable is empty or nullable; return false otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.size()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size_type</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.max_size()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size_type</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acessor"><a class="anchor" href="#_acessor"></a>Acessor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>assume_value()</code> functions have a narrow contract. The requested type <code>T</code> must match the stored type exactly. It is undefined behavior if the pre-condition <code>same&lt;T&gt;()</code> is false.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.value&lt;T&gt;()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns stored element by value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.operator T()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion operator.</p>
<p class="tableblock">Same operation as <code>v.value&lt;T&gt;()</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.assume_value&lt;T&gt;()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>T&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns stored element by reference.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.assume_value&lt;T&gt;() const</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>const T&amp;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.operator[u]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>const variable&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Looks up element by key <code>u</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.operator[n]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>const variable&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Looks up element by integer position <code>n</code>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Modifiers</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.clear()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Erases all nested elements.]]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.erase(p)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Erases element at position <code>p</code>.]]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.erase(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Erases all elements in range <em>[<code>i</code>, `j`</em>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.insert(t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts element <code>t</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.insert(p, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts element <code>t</code> at position <code>p</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.insert(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts elements in range <em>[<code>i</code>, `j`</em>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.insert(p, i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts elements in range <em>[<code>i</code>, <code>j`</em>) at position `p</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v.swap(u)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_operators"><a class="anchor" href="#_operators"></a>Operators</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_iterators"><a class="anchor" href="#_iterators"></a>Iterators</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_algorithms" class="sect0"><a class="anchor" href="#_algorithms"></a>Algorithms</h1>
<div class="paragraph">
<p>The dynamic variable is accompanied by a number of algorithms, but also works with most standard C++ algorithms.</p>
</div>
<div class="sect2">
<h3 id="_count"><a class="anchor" href="#_count"></a>Count</h3>
<div class="paragraph">
<p>Counts the number of matching keys or values in a dynamic variable.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>#include &lt;trial/dynamic/algorithm/count.hpp&gt;</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are two count algorithms. One counts matching keys, and the other counts matching values. They are located
in the <code>dynamic::key</code> and <code>dynamic::value</code> namespaces respectively.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key::count(v, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts elements with key <code>t</code> in dynamic variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a supported type.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>std::count(v.key_begin(), v.key_end(), t)</code></p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Number of elements in <code>v</code> matching <code>t</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value::count(v, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts elements with value <code>t</code> in dynamic variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a supported type.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>std::count(v.begin(), v.end(), t)</code></p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Number of elements in <code>v</code> matching <code>t</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_find"><a class="anchor" href="#_find"></a>Find</h3>
<div class="paragraph">
<p>Finds an element by key or by value in a dynamic variable.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>#include &lt;trial/dynamic/algorithm/find.hpp&gt;</code>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key::find(v, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key_iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds element with key in dynamic variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a supported type.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>std::find(v.key_begin(), v.key_end(), t)</code></p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to element in <code>v</code> matching <code>t</code>, or <code>v.key_end()</code> if not such element exits.]]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value::find(v, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds element with value in dynamic variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a supported type.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>std::find(v.begin(), v.end(), t)</code></p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to element in <code>v</code> matching <code>t</code>, or <code>v.end()</code> if not such element exits.]]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_visit"><a class="anchor" href="#_visit"></a>Visit</h3>
<div class="paragraph">
<p>Invokes a function call operator on a visitor object with the stored value of the dynamic variable as the function parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>#include &lt;trial/dynamic/algorithm/visit.hpp&gt;</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition to various ways of doing type checking, we can also invoke a typed callback on a customized visitor object.
The function call operator always takes a single input parameter whose type is one of the supported types.
The normal C++ function overloading rules applies when selecting which function call operator to invoke.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">struct my_visitor
{
  template &lt;typename T&gt;
  void operator()(T value)
  {
    std::cout &lt;&lt; value &lt;&lt; std::end;
  }
};

int main()
{
  dynamic::variable data = { true, 2, 3.0, "alpha" };

  my_visitor visitor;
  dynamic::visit(vistor, data);
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function call operator may return a value. All function call operators must
use the same return type, which is also the return type of the <code>dynamic::visit</code>
algorithm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">struct my_returning_visitor
{
  template &lt;typename T&gt;
  dynamic::symbol::value operator()(T value)
  {
    dynamic::variable tmp(value);
    return tmp.symbol();
  }
};

int main()
{
  dynamic::variable data = { true, 2, 3.0, "alpha" };

  my_returning_visitor visitor;
  auto symbol = dynamic::visit(vistor, data);
  assert(symbol == dynamic::symbol::array);
  return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_include_algorithm"><a class="anchor" href="#_include_algorithm"></a>#include &lt;algorithm&gt;</h3>
<div class="paragraph">
<p>The dynamic variable works with standard C++ algorithms that require at most bi-directional iterators.</p>
</div>
<div class="paragraph">
<p>Some algorithms assume that if they take two ranges, then the second range is at least as long as the first. <code>dynamic::nullable</code> is an empty container, so it cannot be used as the second range.</p>
</div>
<div class="paragraph">
<p>The algorithms listed in the table below have been verified. Excluded are sorting algorithms and algorithms requiring special operators apart from <code>operator+</code> (e.g. <code>std::inner_product</code> without binary predicates.)</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Algorithm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caveat</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::accumulate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::adjacent_find</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::all_of</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::any_of</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::binary_search</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::copy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::copy_backward</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::count_if</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::equal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the first range causes true to be returned regardless of the second range. Using <code>dynamic::nullable</code> as the second range causes undefined behavior.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::equal_range</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::find</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the range causes nothing to be found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::find_if</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the range causes nothing to be found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::insert_iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::iota</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only arithmetic types can be inserted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::is_partitioned</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::is_sorted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::lexicographical_compare</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::lower_bound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::max_element</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.]]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::mismatch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the second range causes undefined behavior.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::move</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::move_backward</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::none_of</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::partial_sum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::partition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::partition_point</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::remove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In associated arrays entries are removed by value but the key order is kept.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::replace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot insert container as new value because iterators will be changed during replacement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::reverse</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::rotate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect on singular values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::search</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the second range always returns the first entry.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::stable_partition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::swap_ranges</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using <code>dynamic::nullable</code> as the first range has no effect. Using <code>dynamic::nullable</code> as the second range causes undefined behavior.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::transform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::unique</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>std::upper_bound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
</tbody>
</table>
</div>
<h1 id="_converters" class="sect0"><a class="anchor" href="#_converters"></a>Converters</h1>
<div class="paragraph">
<p>Converters are convenience functions for copying data between the dynamic variable and other containers.</p>
</div>
<div class="paragraph">
<p>The general pattern is <code>OutputType dynamic::convert::into&lt;OutputType&gt;(InputType)</code>. The converter derives the <code>InputType</code> from the function parameter. The <code>OutputType</code> cannot be derived, so it must be specified explicitly as a template parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">InputType input = /* input data */;

auto output = dynamic::convert::into&lt;OutputType&gt;(input);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">InputType input = /* input data */;

OutputType output = dynamic::convert::into&lt;decltype(output)&gt;(input);</code></pre>
</div>
</div>
<div class="paragraph">
<p>An error is raised when converting incompatible types. The error is either passed as an exception, or as an <code>std::error_code</code> if specified as output parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">InputType input = /* input data */;
std::error_code error;

auto output = dynamic::convert::into&lt;OutputType&gt;(input, error);
if (error)
  /* Handle errors */</code></pre>
</div>
</div>
<div class="paragraph">
<p>The converters for each container are located in separate header files.</p>
</div>
<div class="sect1">
<h2 id="_stdvector"><a class="anchor" href="#_stdvector"></a>std::vector</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>#include &lt;trial/dynamic/convert/std/vector.hpp&gt;</code>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Convert std::vector into dynamic variable
std::vector&lt;int&gt; input = { 1, 2, 3, 4 };

auto output = dynamic::convert::into&lt;dynamic::variable&gt;(input);
assert(output.is&lt;dynamic::array&gt;());
assert(output.size == 4);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Convert dynamic variable into std::vector
dynamic::variable input = { 1, 2, 3, 4 };

auto output = dynamic::convert::into&lt;std::vector&lt;int&gt;&gt;(input);
assert(output.size() == 4);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stdmap"><a class="anchor" href="#_stdmap"></a>std::map</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Convert std::map into dynamic variable
std::map&lt;std::string, std::string&gt; input = { { "alpha", "hydrogen" }, { "bravo", "helium" } };

auto output = dynamic::convert::info&lt;dynamic::variable&gt;(input);
assert(output.is&lt;dynamic::map&gt;());
assert(output.size == 2);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Convert dynamic variable into std::map
dynamic::variable input = { { "alpha", "hydrogen" }, { "bravo", "helium" } };

auto output = dynamic::convert::info&lt;std::map&lt;std::string, std::string&gt;&gt;(input);
assert(output.size() == 2);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_boostany"><a class="anchor" href="#_boostany"></a>boost::any</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>#include &lt;trial/dynamic/convert/boost/any.hpp&gt;</code></p>
</div>
<div class="paragraph">
<p>This creates a compile-time dependency on Boost.Any.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Convert boost::any into dynamic variable
boost::any input = 1;

auto output = dynamic::convert::info&lt;dynamic::variable&gt;(input);
assert(output.is&lt;int&gt;());</code></pre>
</div>
</div>
</div>
</div>
<h1 id="_concepts" class="sect0"><a class="anchor" href="#_concepts"></a>Concepts</h1>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Work-in-progress.
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="_nestedcontainer"><a class="anchor" href="#_nestedcontainer"></a>NestedContainer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <strong>NestedContainer</strong> is a <a href="http://en.cppreference.com/w/cpp/concept/Container">Container</a> that can store sequences of elements and ordered sequences.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Types</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>array_type</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SequenceContainer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map_type</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AssociativeContainer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pair_type</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A NestedContainer must keep track of whether the stored type is <code>value_type</code>, <code>array_type</code>, or <code>map_type</code>. The semantics of insertion and erasure depends on the stored type.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Singular Semantics</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Singular semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.clear()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assigns value-initialized <code>T</code> to <code>a</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em>
<code>*a == T{}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(p)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Returns:</em>
Iterator <code>p</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>i</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Sequence Semantics</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.clear()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes all nested elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a.empty() == true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(p)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes a given element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>MoveAssignable</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Erases the element pointed to by <code>p</code>.</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to the element immediately following <code>p</code> prior to the element being erased, or <code>a.end()</code> if no such element exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes all elements in range.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>MoveAssignable</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Erases the elements in the range <em>[<code>i</code>, <code>j`</em>).</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to the element pointed to by `j</code> prior to the element being erased, or <code>a.end()</code> if no such element exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts element at end.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>CopyInsertable</code> into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a.insert(a.end(), t)</code></p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>a.end()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts all elements in range at end.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>EmplaceConstructible</code> into <code>a</code> from <code>*i</code>.</p>
<p class="tableblock"><code>i</code> and <code>j</code> are not iterators into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a.insert(a.end(), i, j)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts element before position.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>CopyInsertable</code> into <code>a</code>.</p>
<p class="tableblock"><code>p</code> is iterator into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Inserts a copy of <code>t</code> before position <code>p</code>.</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>p</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts all elements in range before position.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>EmplaceConstructible</code> into <code>a</code> from <code>*i</code>.</p>
<p class="tableblock"><code>p</code> is iterator into <code>a</code>.</p>
<p class="tableblock"><code>i</code> and <code>j</code> are not iterators into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Inserts a copy of each element in the range <em>[<code>i</code>, <code>j`</em>) into `a</code> before position <code>p</code>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Associative Semantics</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associative semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.clear()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes all nested elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a.empty() == true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(p)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes a given element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Erases the element pointed to by <code>p</code>.</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to the element immediately following <code>p</code> prior to the element being erased, or <code>a.end()</code> if no such element exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes all elements in range.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Effects:</em></p>
<p class="tableblock">Erases the elements in the range <em>[<code>i</code>, <code>j`</em>).</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator pointing to the element pointed to by `j</code> prior to the element being erased, or <code>a.end()</code> if no such element exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts <code>t</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a <code>pair_type</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>`
p = std::find(a.begin(), a.end(), get&lt;0&gt;(t))
a.insert(p, t)
</code>`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts all elements in range <em>[<code>i</code>, `j`</em>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock">Each elements in range <em>[<code>i</code>, <code>j`</em>) is a `pair_type</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts <code>t</code> with position <code>p</code> as hint.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> is a <code>pair_type</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts all elements in range <em>[<code>i</code>, <code>j`</em>) with position `p</code> as hint.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock">Each elements in range <em>[<code>i</code>, <code>j`</em>) is a `pair_type</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_dynamiccontainer"><a class="anchor" href="#_dynamiccontainer"></a>DynamicContainer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <strong>DynamicContainer</strong> is a [link dynamic-nested NestedContainer] that can also store heterogenous elements, one of which is a nullable element indicating the absence of a value.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Nullable Semantics</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nullable semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.clear()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(p)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>p</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.erase(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No effect.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>i</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes stored type to SequenceContainer and inserts element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>CopyInsertable</code> into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a</code> becomes a sequenced array containing a copy of <code>t</code>.</p>
<p class="tableblock"><em>Returns:</em></p>
<p class="tableblock">Iterator <code>a.end()</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes stored type to SequenceContainer and inserts all elements in range.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Requires:</em></p>
<p class="tableblock"><code>T</code> shall be <code>EmplaceConstructible</code> into <code>a</code>.</p>
<p class="tableblock"><em>Effects:</em></p>
<p class="tableblock"><code>a</code> becomes a sequenced array containing a copy of each element in the range <em>[<code>i</code>, `j`</em>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, t)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a.insert(p, i, j)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. A pair is a dynamic variable containing an array with exactly two dynamic variables.
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
